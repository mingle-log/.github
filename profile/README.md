<p align="center">
  <img src="https://github.com/mingle-log/.github/assets/109155268/e7b8b97f-e0c3-4100-bc58-28a03483315c" alt="Main Logo" width="300">
</p>
<p align="right">
  <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fmingle-log&count_bg=%2366D2B3&title_bg=%23343434&icon=codeforces.svg&icon_color=%23FFFFFF&title=hits&edge_flat=false">
</p>

> **대학교 내에서 이루어지는 소통을 중심으로 구축된 커뮤니케이션 센터리드 방식의 그룹웨어 플랫폼**

# ✏ Intro
**Mingle**은 '섞다', '어울리다' 뿐만 아니라 '자유롭게 장소나 소셜 행사 내에서 움직이며, 다른 사람들과 교류하다'라는 사전적 의미를 가지고 있습니다.

어떠한 업무를 진행할 때에는 다양한 사람들이 모여 일을 함께 하고 소통하는 것이 가장 우선시 되므로,
커뮤니케이션 센터리드 방식의 **Mingle**은 사용자들, 즉 대학교 내의 교직원들이 서로 교류하고 상호작용하며, 협력하여 작업을 수행 할 수 있는 환경을 제공합니다.

특히 쪽지 및 실시간 알림 기능 등을 통해 업무의 효율성을 높이고, 학생들의 원활한 학교 생활에 필요한 정보를 빠르게 전달하며, 업무와 관련된 업데이트를 실시간으로 공유할 수 있습니다.

<br>

# 💎 Preview
(프리뷰)

<br>

# 🛠 Tech Stack
> Client

<img src="https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=react&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/React Router-CA4245?style=flat-square&logo=reactrouter&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Redux-764ABC?style=flat-square&logo=redux&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/HTML-E34F26?style=flat-square&logo=html5&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/CSS-1572B6?style=flat-square&logo=css3&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat-square&logo=javascript&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Axios-5A29E4?style=flat-square&logo=axios&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Styled Components-DB7093?style=flat-square&logo=styledcomponents&logoColor=white"/>&nbsp;

> Server

<img src="https://img.shields.io/badge/Java-5382a1?style=flat-square&logo=java&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Spring-6DB33F?style=flat-square&logo=spring&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Spring Boot-6DB33F?style=flat-square&logo=springboot&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Spring Security-6DB33F?style=flat-square&logo=springsecurity&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Hibernate-59666C?style=flat-square&logo=hibernate&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Oracle-F80000?style=flat-square&logo=oracle&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Amazon AWS-232F3E?style=flat-square&logo=amazonaws&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Amazon RDS-527FFF?style=flat-square&logo=amazonrds&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Amazon EC2-FF9900?style=flat-square&logo=amazonec2&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Docker-2496ED?style=flat-square&logo=docker&logoColor=white"/>&nbsp;

<br>

# 🪄 Project Control
> Version

<img src="https://img.shields.io/badge/Git-F05032?style=flat-square&logo=git&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Github-181717?style=flat-square&logo=github&logoColor=white"/>&nbsp;

> Task

<img src="https://img.shields.io/badge/Notion-000000?style=flat-square&logo=notion&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Figma-F24E1E?style=flat-square&logo=figma&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Figjam-9544ED?style=flat-square&logo=figma&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Whimsical-6DBD91?style=flat-square&logo=&logoColor=white"/>&nbsp;

<br>

# 🐬 About Team Mingler
| 🌟 | 산출물관리 | 형상관리 | DB관리 | 🌟 |
|:---------:|:--------:|:----------:|:--------:|:----------:|
| <img src="https://github.com/mingle-log/.github/assets/109155268/3b1e876e-5950-4277-a86f-783541c1a815" alt="현재" width="140"> | <img src="https://github.com/mingle-log/.github/assets/109155268/ae146e11-f556-4bee-828f-1931f04b505a" alt="다현" width="140"> | <img src="https://github.com/mingle-log/.github/assets/109155268/8473c148-c554-43a7-8728-494ea5007935" alt="효연" width="140"> | <img src="https://github.com/mingle-log/.github/assets/109155268/610e191e-4688-46a7-a803-0a13da7d0745" alt="진호" width="140"> | <img src="https://github.com/mingle-log/.github/assets/109155268/fac0a719-5664-4380-bbbb-dc4c1f58fa3a" alt="지원" width="140"> |
| **이현재** | **여다현** | **조효연** | **이진호** | **최지원** |
| 강의관리<br>출결관리 | 조직도<br>학사관리<br>학사일정관리 | 출퇴근 기록<br>일정관리<br>쪽지<br>실시간 알림<br>공지 게시판 | 휴가신청서<br>증명서<br>근태관리<br>과목관리 | 로그인<br>마이페이지 |
| <a href="https://github.com/hyunje6334" target="_blank"><img src="https://img.shields.io/badge/Github-181717?style=flat-square&logo=github&logoColor=white"/></a> <a href="mailto:hyunje6334@gmail.com" target="_blank"><img src="https://img.shields.io/badge/Gmail-EA4335?style=flat-square&logo=gmail&logoColor=white"/></a> | <a href="https://github.com/moreHyun" target="_blank"><img src="https://img.shields.io/badge/Github-181717?style=flat-square&logo=github&logoColor=white"/></a> <a href="mailto:manymorehyun@gmail.com" target="_blank"><img src="https://img.shields.io/badge/Gmail-EA4335?style=flat-square&logo=gmail&logoColor=white"/></a> | <a href="https://github.com/Joyhyonie" target="_blank"><img src="https://img.shields.io/badge/Github-181717?logo=github&logoColor=white"/></a> <a href="mailto:cho970129@gmail.com" target="_blank"><img src="https://img.shields.io/badge/Gmail-EA4335?style=flat-square&logo=gmail&logoColor=white"/></a> <br> <a href="https://velog.io/@joyhyonie" target="_blank"><img src="https://img.shields.io/badge/Velog-20C997?style=flat-square&logo=velog&logoColor=white"/></a> | <a href="https://github.com/Leejinho8903" target="_blank"><img src="https://img.shields.io/badge/Github-181717?style=flat-square&logo=github&logoColor=white"/></a> <a href="mailto:dlwlsgh89034@gmail.com" target="_blank"><img src="https://img.shields.io/badge/Gmail-EA4335?style=flat-square&logo=gmail&logoColor=white"/></a>| <a href="https://github.com/choijiwonj" target="_blank"><img src="https://img.shields.io/badge/Github-181717?style=flat-square&logo=github&logoColor=white"/></a> <a href="mailto:zinndryke7@gmail.com" target="_blank"><img src="https://img.shields.io/badge/Gmail-EA4335?style=flat-square&logo=gmail&logoColor=white"/></a> |

<br>

# ✨ Features
> [로그인](#로그인) <br>
> [마이페이지](#마이페이지) <br>
> [출퇴근 기록](#출퇴근-기록) <br>
> [일정관리](#일정관리) <br>
> [쪽지](#쪽지) <br>
> [실시간 알림](#실시간-알림) <br>
> [공지 게시판](#공지-게시판) <br>
> [조직도](#조직도) <br>
> [학사관리](#학사관리) <br>
> [휴가신청서](#휴가신청서) <br>
> [증명서](#증명서) <br>
> [근태관리](#근태관리) <br>
> [과목관리](#과목관리) <br>
> [강의관리](#강의관리) <br>
> [출결관리](#출결관리) <br>

### 🔻로그인
```
✔ javax.mail-api 활용
✔ spring-boot-starter-mail 활용
✔ freemarker 활용
```
> 로그인
- 아이디와 비밀번호를 비교하고 확인한 후, 그 데이터에 맞는 권한을 부여한 accessToken을 발급
> 아이디 찾기 
- 이름, 이메일을 입력받아 그 대상에 맞는 아이디를 3글자를 제외하여 노출
> 비밀번호 찾기
- 아이디, 이메일을 입력받아 그 대상의 이메일로 임시 비밀번호를 발급
- 운영 측 데이터베이스에는 암호화되어 저장되기 때문에 보안적인 측면에서 우수
```java
@Transactional
public MailDTO createMailAndChangePassword(String empId, String empEmail, String empName) {
    String str = getTempPassword();
    MailDTO dto = new MailDTO();
    dto.setAddress(empEmail);
    dto.setTitle(empName + "님의 Mingle 임시 밀번호 안내 이메일 입니다.");

    String pwd = passwordEncoder.encode(str);
    Employee employee = employeeRepository.findByEmpId(empId)
                          .orElseThrow(() -> new IllegalArgumentException("Invalid employee ID"));
    employee.setEmpPwd(pwd);

    try {
        String emailContent = generateEmailContent(empName, str);
        dto.setMessage(emailContent);
    } catch (Exception e) {
        log.error("Failed to generate email content: {}", e.getMessage());
    }

    return dto;
}
```
```java
public String getTempPassword() {
    char[] charSet = new char[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z' };

    StringBuilder str = new StringBuilder();

    int idx = 0;
    for (int i = 0; i < 10; i++) {
        idx = (int) (charSet.length * Math.random());
        str.append(charSet[idx]);
    }

    return str.toString();
}
```
```java
public String generateEmailContent(String name, String password) {
    Context context = new Context();
    context.setVariable("name", name);
    context.setVariable("password", password);

    return templateEngine.process("email-template", context);
}
```
```java
public void mailSend(MailDTO mailDTO) {
    MimeMessage message = mailSender.createMimeMessage();

    try {
        MimeMessageHelper helper = new MimeMessageHelper(message, MimeMessageHelper.MULTIPART_MODE_MIXED_RELATED, UTF-8");
        helper.setTo(mailDTO.getAddress());
        helper.setFrom(SendEmailService.FROM_ADDRESS);
        helper.setSubject(mailDTO.getTitle());
        helper.setText(mailDTO.getMessage(), true);

        mailSender.send(message);
    } catch (MessagingException e) {
        log.error("Failed to send email: {}", e.getMessage());
    }
}
```
> 비밀번호 변경
- 유효성 검사 및 새 비밀번호 일치 시 비밀번호 변경 가능
### 🔻마이페이지
> 마이페이지 조회
- 로그인 한 유저 자신의 정보를 조회 가능
> 마이페이지 수정
- 자신의 이름, 이메일, 번호, 주소, 프로필 사진 등을 변경 가능

### 🔻출퇴근 기록
> 출퇴근 기록
- 출근 기록 클릭 시, 클릭한 시각을 기준으로 해당 날짜의 출근 시각 등록 가능
- 퇴근 기록 클릭 시, 클릭한 시각을 기준으로 해당 날짜의 퇴근 시각 등록 가능
### 🔻일정관리
```
✔ Full-Calendar 라이브러리를 활용하여 캘린더 구현
✔ Styled-Components 라이브러리를 활용하여 캘린더 CSS 스타일 작성
✔ Day.js 라이브러리를 활용하여 날짜 비교 후 필요한 일정들을 추출
```
> 나의 일정 조회
- 나의 일정 클릭 시, 사용자가 등록한 개인 일정을 캘린더에서 조회 가능
- 캘린더 내의 날짜 클릭 시, 오른쪽 상단에서 해당 날짜에 등록된 일정 리스트 조회 가능
- 일정 클릭 시, 나의 일정 상세 내용 조회 가능
> 완료된 나의 일정 체크
- 일정 리스트 중 완료된 일정이 있다면 체크 표시하여 To-do List와 같이 활용 가능
> 나의 일정 등록/수정/삭제
- 추가 클릭 시, 일정명, 날짜, 색상을 설정하여 등록 가능
- 일정 클릭 시, 일정명, 날짜, 색상 수정 가능
- 일정 클릭 시, 해당 일정 삭제 가능
> 학사 일정 조회
- 학사 일정 클릭 시, 행정직원이 등록한 학사 일정을 캘린더에서 조회 가능
- 캘린더 내의 날짜 클릭 시, 오른쪽 상단에서 해당 날짜에 등록된 일정 리스트 조회 가능
- 일정 클릭 시, 학사 일정 상세 내용 조회 가능
> 학사 일정 등록/수정/삭제
- 행정직원은 학사일정관리 탭에서 학사일정을 등록/수정/삭제 가능
- 등록 후, 전체 학사 일정에서 확인 가능하며 특정 학사 일정 클릭 시, 우측에서 상세 내용 조회 가능
- 상세 조회 시, 수정/삭제 버튼이 활성화되어 수정/삭제 시 전체 조회에 즉시 반영
### 🔻쪽지
```
✔ Framer-Motion 라이브러리를 활용하여 쪽지 토글 기능 구현
✔ Scheduler 기능을 활용하여 오전 12시마다 휴지통 비우기 기능 구현
```
> 읽지 않은 쪽지 갯수 조회
- 받은 쪽지 중 읽지 않는 쪽지가 존재한다면, 쪽지의 갯수를 Header에서 미리보기 가능
- 쪽지 읽음 처리 시, 실시간 읽지 않은 쪽지 갯수 변동
> 받은/보낸/중요 쪽지함 조회 및 검색
- 사용자가 받고 보낸 쪽지를 각각 받은 쪽지함, 보낸 쪽지함에서 조회 가능
- 사용자가 중요 표시한 쪽지를 중요 쪽지함에서 조회 가능
- 해당 쪽지의 Header 클릭 시, 쪽지가 아래로 열리며 쪽지 내용, 중요 여부, 답장/읽음여부 확인 가능
- 검색하고자하는 쪽지가 있을 경우 ‘교직원명’ 및 ‘내용’ 중 검색기준을 선택하고 검색어로 해당 쪽지를 조회 가능
- 쪽지함 내, 쪽지의 갯수가 10개 이상일 경우 더보기 페이징 기능을 제공하며 More 클릭 시, 10개씩 추가 조회 가능
  ```javascript
  const [currentSize, setCurrentSize] = useState(10);

  useEffect(
      () => {
        dispatch(callReceivedMsgListAPI(currentSize));
      },[currentSize] 
  );
  ```
  ```java
  public Page<MessageDTO> selectReceivedMessage(Long empCode, int size) {

      Pageable pageable = PageRequest.of(0, size, Sort.by("msgCode").descending());
      Page<Message> messageList = messageRepository.findReceivedMessage(empCode, pageable);
      Page<MessageDTO> messageDTOList = messageList.map(message -> modelMapper.map(message, MessageDTO.class));

      return messageDTOList;

  }
  ```
> 휴지통 조회
- 사용자가 삭제한 쪽지를 휴지통에서 조회 가능
> 쪽지 읽음 처리
- 받은 쪽지함의 쪽지 Header 클릭 시, 읽음 처리가 되어 쪽지의 색이 변경되고 보낸 사람은 해당 쪽지가 읽혀졌다는 것을 확인 가능
> 중요 쪽지함으로 이동 및 취소
- 받거나 보낸 쪽지의 Body에서 회색 하트를 클릭 시, 중요 쪽지함에서 조회 가능
- 중요 쪽지의 Body에서 민트색 하트를 클릭 시, 받은/보낸 쪽지함에서 조회 가
> 쪽지 전송
- 받는 사람의 소속 및 이름 선택 및 내용 작성 후 전송 클릭 시, 쪽지 전송 가능
> 쪽지 답장
- 받은 쪽지의 Body에서 답장 클릭 시, 보낸 사람에게 쪽지 전송 가능
> 선택한 쪽지 삭제/복구
- 받은/보낸/중요 쪽지함에서 각 쪽지 선택 및 전체 선택하여 쪽지 삭제 가능
- 휴지통에서 각 쪽지 선택 및 전체 선택하여 쪽지 복구 가능
> 쪽지 영구 삭제
- 휴지통 속 쪽지는 익일 오전 12시에 자동으로 영구 삭제
  ```java
  @Scheduled(cron = "0 0 0 * * *")
  public void autoDeleteMessage() {

      List<MessageDTO> messgeList = messageService.selectAllRemovedMessage();

      for(MessageDTO message : messgeList) {
          if(message.getMsgDelReceiver().equals("Y")) {
              messageService.deleteMessage(message.getMsgCode(), "receiver");
          } else if(message.getMsgDelSender().equals("Y")) {
              messageService.deleteMessage(message.getMsgCode(), "sender");
          }
      }

  }
  ```
  ```java
  public void deleteMessage(Long msgCode, String empType) {

      Message message = messageRepository.findById(msgCode)
                            .orElseThrow(() -> new IllegalArgumentException("해당 코드의 쪽지가 없습니다 🥲 msgCode : " + msgCode));

      switch(empType) {
          case "receiver" : message.setMsgDelReceiver("X"); messageRepository.save(message); break;
          case "sender" : message.setMsgDelSender("X"); messageRepository.save(message); break;
          default : return;
      }

  }
  ```
### 🔻실시간 알림
```
✔ SSE(Server-Sent-Events) 기능을 활용하여 클라이언트에게 실시간 알림 전송
✔ Scheduler 기능을 활용하여 오전 9시마다 학사일정 시작일, 종료일 알림 전송
✔ Day.js 라이브러리를 활용하여 실시간 알림 도착 시간 기능 구현
```
> 읽지 않은 알림 갯수 조회
- 알림 리스트에 알림이 존재한다면, 알림의 갯수를 Header에서 미리보기 가능
- 알림 삭제 시, 실시간 알림 갯수 변동
> 알림 전체 조회
- 알림 아이콘을 클릭 시, 유효한 알림 리스트 조회 가능
> 알림 삭제
- 각 알림을 개별 삭제하거나, 전체 삭제 버튼을 클릭하여 모든 유효한 알림 삭제 가능
> 실시간 알림
- 쪽지 전송 시, 받는 사람에게 실시간으로 해당 쪽지 수신 알림
- 공지사항 등록 시, 모든 유저에게 실시간으로 해당 공지사항 등록 알림
- 등록된 각 학사일정의 시작일, 종료일 오전 9시에 모든 유저에게 실시간으로 알림
```javascript
 useEffect(
    () => {
        const url = `http://${SERVER_IP}:${SERVER_PORT}`; 
        const token = window.localStorage.getItem('accessToken');

        if (token != null) {
            const eventSource = new EventSource(`${url}/noti?token=${token}`);

            eventSource.addEventListener("receivedMsg", (e) => {
                const data = JSON.parse(e.data);
                const senderImg = data.sender.empProfile;
                const senderName = data.sender.empName;
                const msgContent = data.msgContent;
                customMessageNoti(senderImg, senderName, msgContent);
                setUpdateMsg(data);
            });

            eventSource.addEventListener("error", (e) => {
                eventSource.close();
            });
        }

    },[]
);
```
```java
public void notifyReceivedMsg(MessageDTO messageDTO) {
		
    String receiverId = messageDTO.getReceiver().getEmpId();

    if(sseEmitters.containsKey(receiverId)) {
        SseEmitter sseEmitter = sseEmitters.get(receiverId);

        try {
            sseEmitter.send(SseEmitter.event()
            .name("receivedMsg")
            .data(messageDTO)
            .reconnectTime(500));
        } catch (IOException | IllegalStateException e) {
            sseEmitters.remove(receiverId);
        } 
    }
		
}
```
### 🔻공지 게시판
```
✔ Toast-ui 라이브러리를 활용하여 에디터 기능 구현
```
> 공지사항 카테고리별 조회 및 검색
- 제목, 내용, 작성자로 검색 및 카테고리를 선택하여 사용자가 조회하기 위한 조건을 설정 하여 공지사항 조회 가능
- 조회된 리스트에 따라 페이징 처리되어 원하는 페이지의 공지사항 조회 가능
- 공지사항 리스트 클릭 시, 제목, 작성자, 등록일 조회수, 내용  등의 상세 내용 조회 가능
- 공지사항 리스트 클릭 시, 실시간 조회수 증가
> 공지사항 등록/수정/삭제
- 분류를 선택하고 제목 및 내용을 입력하여 공지사항 등록 가능
- 해당 공지사항의 작성자는 제목, 분류, 내용을 수정 가능
- 해당 공지사항의 작성자는 공지사항 삭제 가능
### 🔻조직도
> 교직원 정보 조회
- 전체 교직원의 이름, 소속, 이메일, 전화번호 등 간단한 정보 조회 가능
- 이름/소속에 따른 교직원 검색 가능
### 🔻학사관리
> 교직원/학생 관리
- 교직원/학생의 목록을 전체 및 검색하여 조회 가능
- 목록을 전체 및 개별 선택하여 삭제 가능
- 목록의 행을 클릭 시, 각 교직원/학생의 상세 정보 확인 가능
- 상세 페이지 하단의 수정 버튼 클릭 시, 정보 수정 가능
- 목록 페이지 우측 상단의 등록 버튼을 통해 교직원 정보 등록 가능
### 🔻휴가신청서
> 휴가 신청 내역 조회
- 휴가 신청 내역 클릭 시 내가 신청한 휴가 신청서를 조회 가능
> 휴가 신청
- 신청하고자 하는 신청서의 종류를 선택 후, 사유 작성 시 휴가 신청 완료
### 🔻증명서
> 증명서 발급 이력
- 증명서 발급 이력 클릭 시, 자신이 신청한 증명서 조회 가능
- 신청한 증명서가 교무처 직원에 의해 승인이 된다면 보기 버튼이 활성화되어 클릭 시 증명서 조회 가능
- 조회한 증명서 클릭 시, 프린트 가능
```javascript
(certi && certi.data) && (
    certi.data.map((myCerti) => (
        <tr key={myCerti.certiDocCode}>
        <td>{myCerti.certiDocCode}</td>
        <td>{myCerti.certiApplyDate.split(" ")[0]}</td>
        <td>{myCerti.certiForm.certiFormName}</td>
        <td>{myCerti.certiUse}</td>
        <td>{myCerti.reason}</td>
        <td>{myCerti.docStatus}</td>
        {myCerti.docStatus == "승인" ? (<td><button onClick={()=> openModal(myCerti)}>보기</button></td>): null }
        </tr>
    ))
)
```
> 증명서 발급 신청
- 증명서 발급 신청 클릭 시, 신청할 증명서 선택 및 양식을 올바르게 입력 시 증명서 발급 신청 완료
> 증명서 발급 신청 내역
- 교무처 직원은 교직원들이 신청한 모든 증명서들을 확인 가능하며, 승인 클릭 시 승인 가능
- 이미 승인된 증명서는 승인 버튼이 활성화 되지 않음
### 🔻근태관리
> 나의 근태 기록 조회
- 마이페이지에서 나의 근태 기록 조회 가능
> 교직원 근태 조회/수정
- 교직원 목록을 전체 및 검색하여 조회 가능
- 특정 교직원 선택 시, 해당 교직원의 근태 기록 상세 조회 가능
- 상세 페이지에서 교직원의 근태 상태 및 비고란 변경 가능
> 휴가 신청 내역
- 교무처 직원은 교직원들이 신청한 모든 휴가신청서들을 확인 가능하며, 승인/반려 클릭 시 승인/반려 가능
- 승인 클릭 시, 해당 교직원의 연차 개수가 차감되며 이 때, 휴가 시작일 및 종료일에 따라 차감되는 연차 개수가 변동
- 보유 연차 개수가 신청한 개수보다 적을 시, 승인 불가
```java
@Transactional
public void updateLeaveDoc(Long leaveDocCode, LeaveDocDTO leaveDocDTO){
				
    java.time.LocalDateTime localDateTime = java.time.LocalDateTime.now();
    java.sql.Timestamp timestamp = java.sql.Timestamp.valueOf(localDateTime);
    LeaveDoc leaveDoc = leaveDocRepository.findById(leaveDocCode)
                          .orElseThrow(() -> new NullPointerException("해당 문서가 존재하지 않습니다."));

    Employee employee = employeeRepository.findById(leaveDocDTO.getAccepter().getEmpCode())
                          .orElseThrow(() -> new NullPointerException("연차 갯수가 부족합니다."));

    String date = leaveDoc.getStartDate();
    String endDate = leaveDoc.getEndDate();
    DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
    LocalDate localDate = LocalDate.parse(date, formatter);
    LocalDate localEndDate = LocalDate.parse(endDate, formatter);
    Period period = Period.between(localDate, localEndDate);
    int daysBetween = period.getDays() + 1;		

    if(employee.getEmpAnnual() > 0 && employee.getEmpAnnual() > daysBetween) {
        employee.setEmpAnnual(employee.getEmpAnnual() - daysBetween);

        leaveDoc.setAccepter(modelMapper.map(leaveDocDTO.getAccepter(), Employee.class));
        leaveDoc.setSignDate(timestamp.toString());
        leaveDoc.setDocStatus("승인");

        leaveDocRepository.save(leaveDoc);
    }
}
```
> 자동 근태 기록
- 오후 12시에 승인 된 휴가 신청서를 조회 후, 휴가의 시작일과 오늘 날짜를 비교하여 값이 같을 시 '연차'가 입력되며 자동으로 근태 기록 등록
```java
@Scheduled(cron = "00 00 12 * * *")
public void addAttendanceRecord() {
    attendanceService.addAttendanceRecord();
}
```
```java
@Transactional
public void addAttendanceRecord() {
    LocalDateTime now = LocalDateTime.now();	    	        
    List<LeaveDoc> leaveDocList = leaveDocRepository.findAll();
    
    for(LeaveDoc leaveDoc : leaveDocList) {
        if (leaveDoc.getDocStatus().equals("승인") && leaveDoc.getStartDate().split(" ")[0].equals(now.toString().split("T")[0])) {
            Attendance attendance = new Attendance();
            attendance.setAtdDate(now.toLocalDate().toString());
            java.sql.Date timestamp = java.sql.Date.valueOf(now.toLocalDate());
            attendance.setAtdStartTime(timestamp.toString());
            attendance.setAtdStatus("연차");
            attendance.setEmployee(leaveDoc.getLeaveApplyer());
            attendanceRepository.save(attendance);
        }
    }
}
```
### 🔻과목관리
> 과목 조회
- 과목 관리 탭 클릭 시, 모든 과목 목록 조회 가능
- 과목명/학과명으로 검색하여 과목 조회 가능
> 과목 등록/수정/삭제
- 과목 등록 클릭 시, 
- 과목 수정/삭제 클릭 시, 특정 과목 수정/삭제 가능
### 🔻강의관리
> 강의 조회
- 전체 강의 목록 조회 가능
- 담당 교수 및 교과목명으로 원하는 강의 검색 가능
> 강의 개설
- 행정직원은 개설학과, 교수명, 교과목명을 특정하여 강의 배정 및 해당 교수에게 강의 개설 요청 가능
```javascript
/* 개설학과에 따른 교수와 교과목 조회 */
const getSubjectListHandler = (e) => {
    dispatch(callSubjectListAPI(e.target.value));
};

/* 선택된 교과목에 따른 학점과 이수구분 조회 */
const getScoreHandler = (e) => {
    onChangeHandler(e);
    setSubject(subjectInfo.subjectNameList.find(subject => subject.sbjCode == e.target.value));
};

/* 각 입력정보를 form에 저장 */
const onChangeHandler = (e) => {
    setForm({
        ...form,
        [e.target.name]: e.target.value,
    });
};

/* 강의 개설 API 호출 */
const insertLectureHandler = (form) => {
    dispatch(callLectureInsertAPI(form));
}
```
### 🔻출결관리
> 출석정보 조회
- 전체 강의 목록 조회 후, 특정 강의마다 수강하는 학생들의 주차별 출석 상태 조회 가능
> 출석정보 수정
- 학생들의 출석 상태를 정정 가능 (출석, 지각, 결석)

<br>

# 🔗 Github Repositories
<a href="https://github.com/mingle-log/Mingle-Client" target="_blank"><img src="https://img.shields.io/badge/Client Repository-66D2B3?style=flat-square&logo=react&logoColor=white"/></a>
<a href="https://github.com/mingle-log/Mingle-Server" target="_blank"><img src="https://img.shields.io/badge/Server Repository-66D2B3?style=flat-square&logo=springboot&logoColor=white"/></a>

<br>
